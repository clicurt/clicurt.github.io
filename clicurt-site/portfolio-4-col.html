<xmp>

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>


<h1>Comments </h1>

<?php echo Form::open('comments/index/<?php echo $comments->id; ?>'); ?>
<?php foreach($comments as $comment) : ?>
<?php $array[] = array($comment->title, $comment->create_date, $comment->tags); ?>
<?php endforeach; ?> 
<div class="form-group">
	<?php echo Form::label('Category', 'category'); ?>
	<?php echo Form::select('category', $comment->title, array(
		'0' => 'select Category',
		'title' => $array
	), array('class' => 'form-control')); ?>
</div>

<?php echo Form::submit('send'); ?>

<input type="hidden" name="comment_id" value="<?php echo $comment->id; ?>">

<div class="actions">

	
</div>

<?php echo Form::close(); ?>
<br/>
<style>
table, th, td {
    border: 1px solid black;
}
</style>

<body>

<table class="timeTable" style="width:500px; text-align:center; padding:20px">
<?php for($i=1; $i<=10;++$i){; ?>
<tbody>
  <tr style="padding:50px">
    <td> <?= $i; ?></td>
    <td><input id="hourCellStart" type="text" style="width: 50px" > :
    <input class="minutesCellStart" type="time" style="width: 50px" > ~
    <input id="hourCellEnd" type="text" style="width: 50px" > :
    <input id="minutesCellEnd" type="time" style="width: 50px" >
    </td>
    <td><input class="sumCell" type="text" style="width: 200px" ></td>
  </tr>
  </tbody>
<?php };?>
<tfoot>
<tr>
            
            <td colspan ="2">Total Hours:</td>
            <td id="val"><!-- Total to go here --></td>

        </tr>
</tfoot>
</table>
<br/><button id="ans">CLICK</button>

</body>

<br/>


<script>
$(function() {
    //this calculates values automatically 
    sum();
    $("#hourCellStart, #hourCellEnd").mousemove("keydown keyup", function() {
        sum();
    });
});

function sum() {
            var num1 = document.getElementById('hourCellStart').value;
            var num2 = document.getElementById('hourCellEnd').value;
			var result = parseInt(num2) - parseInt(num1);
            if (!isNaN(result)) {
				document.getElementById('sumCell').value = result;
            }
        }
</script>

<script>
$("#ans").click(funtion(){
var $table = $('.timeTable'),
    $tr = $table.find('tbody tr'),
    totalHours = 0;

$tr.each(function(i, el){
    totalHours += parseInt($(this).find('td:last').html(), 10);
});

$table.find('#val').html(totalHours);
</script> 



<script>

$('#ans').click(function () {
            var num1 = $('hourCellStart').val();
            var num2 = $('hourCellEnd').val();
	         var val = $('.sumCell');
            $('#hourCellStart,#hourCellEnd').each(function() {
            if (!isNaN(this.value) && this.value.length != 0) {
               val =  parseFloat(num2) - parseFloat(num1);
		       $('.sumCell').text(val);
            }
        });
	
    

});
</script>
</xmp>
