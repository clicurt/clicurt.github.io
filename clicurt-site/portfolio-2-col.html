<!DOCTYPE html>
<html lang="en">

<head>


</head>

<body>
<div><xmp>


/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package javaapplication1;

//import gvjava.org.json.JSONArray;
import gvjava.org.json.JSONException;
import gvjava.org.json.JSONObject;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.LinkedHashSet;
import java.util.List;
import org.json.simple.JSONArray;

/**
 *
 * @author curtis
 */
public class JavaApplication1 {

    /**
     * @param args the command line arguments
     * @throws gvjava.org.json.JSONException
     */
    public static void main(String[] args) throws JSONException {
        // TODO code application logic here
        List<JSONObject> list = new ArrayList<>();
        LinkedHashSet<JSONObject> lhasset = new LinkedHashSet(); 
        JSONArray arr = new JSONArray();
        HashMap<String, JSONObject> map = new HashMap<>();
        JSONObject first = new JSONObject();
        first.put("id", "floorId");
        first.put("parent", "#");
        first.put("text", "Step");
        first.put("state", "{opened:true}");
        map.put("first" , first);
        lhasset.add(map.get("first"));
        for(int i=1; i< 97; i++){
            JSONObject json = new JSONObject();
            if( i == 1 ){
                json.put("id", i);
                json.put("parent", "floorId");
                json.put("text", "All Steps");
                json.put("state", "{opened:false}");
                map.put("json" + i, json);
            }else{
                json.put("id", i);
                json.put("parent", "floorId");
                json.put("text", i);
                json.put("state", "{opened:false}");
                map.put("json" + i, json);
            }
            lhasset.add(map.get("json" + i));
        }
        System.out.println("the json string is: " + lhasset.toString());
    }
}





+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

@*
 * This template takes a single argument, a String containing a
 * message to display.
 *@
 
@(name: String, what: String, age: Int)
@import helper._
@*
 * Call the `main` template with two arguments. The first
 * argument is a `String` with the title of the page, the second
 * argument is an `Html` object containing the body of the page.
 *@
<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("stylesheets/main.css")">
        <link rel="shortcut icon" type="image/png" href="@routes.Assets.versioned("images/favicon.png")">
        <script src="@routes.Assets.versioned("javascripts/hello.js")" type="text/javascript"></script>
    	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    	<script type="text/javascript">
		var d = { 'id': "32" };
		//$('#submit').click(function(){
		function sendData(){
	        $.ajax({
	            type :  "POST",
	            dataType: 'json',
	            processData: false,
	            contentType: false,///"application/json; charset=utf-8",
	            data: JSON.stringify(d),
	            url  :  "@routes.HomeController.upload()",
	                success: function(data){
	                    console.log(data);
	                }
	        });
    	}  
		
		function receiveData(){
	        $.ajax({
	            type :  "POST",
	            dataType: 'json',
	            processData: false,
	            
	            contentType: false,//"application/json; charset=utf-8",
	            data: JSON.stringify(d),
	            url  :  "@routes.HomeController.receiveData()",
	                success: function(data){
	                    console.log(data);
	                }
	        });
    	} 
		
		function receiveDataDB(){
			datas = {'name': "great",	'comment': "meat"};
	        $.ajax({
	            type :  "POST",
	            dataType: 'json',
	            contentType: "application/json; charset=utf-8",
	            data: JSON.stringify(datas),
	            url  :  "@routes.HomeController.receiveDataDB()",
                success: function(data){
                	console.log(data);
                },
                error: function (xhr, ajaxOptions, thrownError) {
                    console.log(xhr.status);
                    console.log(xhr.responseText);
                    console.log(thrownError);
                }
	        });
    	} 
		//});
		var count = 1;
		function prevButton(){
		    var prevSrc = $("#slide").attr("src").replace("1", count);
            while (count < 4){
                count = count + 1;
            }
            if (count == 4){
                count = 1;
            }
            $("#slide").attr("src", prevSrc);
        }
        
        function nextButton(){
            var newSrc = $("#slide").attr("src").replace("1", count);            
            while (count !== 0){
                count = count - 1;
            }
            if (count == 0){
                count = 3;
            }
            $("#slide").attr("src", newSrc);
        }	
		    
		</script>
    </head>
    <body>
		@main("Welcome to Play") {
		
		    @*
		     * Get an `Html` object by calling the built-in Play welcome
		     * template and passing a `String` message.
		     *@
		    <h1>Hello</h1>
		    <div style="margin-bottom:20px;">
		    Hello <b>@name</b> you are learning <b>@what</b> at <b>@age</b> years
		    </div>
		    @form(action = routes.HomeController.upload, 'enctype -> "multipart/form-data") {
		    
		    <input type="file" name="picture" >    
			    <p>
			        <input type="submit" id="submit" onclick="sendData();"/>
			    </p>    
			}
			<input id="submit" onclick="receiveData();" type="button" name="sendData" value ="send"/>
			<br>
			<input id="submit" onclick="receiveDataDB();" type="button" name="receive" value ="receive data db"/>
		}
		<div>
		<img id="slide" src="@routes.Assets.at("image_1.png")" width="480" height="480" />
		<button onclick="prevButton();" type="buttton" name="left">Previous</button>
		<button onclick="nextButton();" type="buttton" name="right">Next</button>
		</div>
	</body>
</html>






public Result receiveDataDB(){
    	JsonNode json = request().body().asJson();
    	String name = json.get("name").textValue();
    	String comment = json.get("comment").textValue();
    	
    	return ok("success:" + name + comment); 
    }


function receiveDataDB(){
			datas = {'name': "great",	'comment': "meat"};
	        $.ajax({
	            type :  "POST",
	            dataType: 'json',
	            contentType: "application/json; charset=utf-8",
	            data: JSON.stringify(datas),
	            url  :  "@routes.HomeController.receiveDataDB()",
                success: function(data){
                	console.log(data);
                },
                error: function (xhr, ajaxOptions, thrownError) {
                    console.log(xhr.status);
                    console.log(xhr.responseText);
                    console.log(thrownError);
                }
	        });
    	} 
==============================================================================






*******************************************************************************
<div>
  Select a text file: 
  <input type="file" id="fileInput">
</div>
<pre id="fileDisplayArea"></pre>

*******************************************************************************
var fileInput = $('#fileInput');
	var fileDisplayArea = $('#fileDisplayArea');
	
	fileInput.change(function(e){
		var file = fileInput[0].files[0];
		var allowedFiles = [".csv"];
		var regex = new RegExp("([a-zA-Z0-9\s_\\.\-:])+(" + allowedFiles.join('|') + ")$");
		if (regex.test(fileInput.val().toLowerCase())) {		
			var reader = new FileReader();
			reader.readAsText(file);
			reader.onload = function(e){
				var csvData = e.target.result;
				data = $.csv.toArrays(csvData);
				if (data && data.length > 0) {	
					fileDisplayArea.html(data);
				}else{
					fileDisplayArea.html("File Empty!");
				}
			}
		}else{
			fileDisplayArea.html("File Not Supported!");
		}
	});
	
*******************************************************************************



<input type="file" name="filename" id="filename">
    <div id="csvimporthint"></div>


$("#filename").change(function(e) {
var ext = $("input#filename").val().split(".").pop().toLowerCase();

if($.inArray(ext, ["csv"]) == -1) {
alert('Upload CSV');
return false;
}
    
if (e.target.files != undefined) {
var reader = new FileReader();
reader.onload = function(e) {
var csvval=e.target.result.split("\n");
var csvvalue=csvval[0].split(",");
var inputrad="";
for(var i=0;i<csvvalue.length;i++)
{
var temp=csvvalue[i];
var inputrad=inputrad+" "+temp;
}
$("#csvimporthint").html(inputrad);
$("#csvimporthinttitle").show();
};
reader.readAsText(e.target.files.item(0));

}

return false;

});





<?php
class Controller_Posts extends Controller_Template
{
	public function action_index()
	{
		$posts = Model_Post::find('all');
		
		$data = array('posts' => $posts);
      $this->template->title = 'Blog Posts';
      $this->template->content = View::forge('posts/index', $data, false);
	}
	
	public function action_add()
	{
		 if(Input::post('send')){
		 	$post = new Model_Post();
		 	$post->title = Input::post('title');
		 	$post->category = Input::post('category');
		 	$post->body = Input::post('body');
		 	$post->tags = Input::post('tags');
		 	$post->create_date = date('Y-m-d H:i:s');
		 	
		 	$post->save();
		 	
		 	Session::set_flash('success', 'Post Added');
		 	
		 	Response::redirect('/');
		 }
		 $data = array();
       $this->template->title = 'Add Posts';
       $this->template->content = View::forge('posts/add', $data);
	}
	
	public function action_view($id)
	{
		 $post = Model_Post::find('first', array(
		 	'where' => array(
		 		'id' => $id
		 	)
		 ));
		 
		 $data = array('post' => $post);
       $this->template->title = $post->title;
       $this->template->content = View::forge('posts/view', $data, false);
	}
	
	public function action_edit($id)
	{
		 
		  if(Input::post('send')){
		 	$post = Model_Post::find(Input::post('post_id'));
		 	$post->title = Input::post('title');
		 	$post->category = Input::post('category');
		 	$post->body = Input::post('body');
		 	$post->tags = Input::post('tags');
		 	$post->create_date = date('Y-m-d H:i:s');
		 	
		 	$post->save();
		 	
		 	Session::set_flash('success', 'Post Updated');
		 	
		 	Response::redirect('/');
		 }
		 
		 $post = Model_Post::find('first', array(
		 	'where' => array(
		 		'id' => $id
		 	)
		 ));
		 
		 $data = array('post' => $post);
       $this->template->title = 'Edit Post';
       $this->template->content = View::forge('posts/edit', $data, false);
	}
	
		public function action_delete($id)
	   {
		 $post = Model_Post::find($id);
		 $post->delete();
		 
		 Session::set_flash('success', 'Post Deleted');
		 	
		 Response::redirect('/');
	   }
	   
	   public function action_calendar()
	   {
		 //$post = Model_Post::find('all');
		 return View::forge('posts/calendar');
		 //$data = array('post' => $post);
      // $this->template->title = 'Calendar';
      // $this->template->content = View::forge('posts/calendar');
	}
	
}
</xmp></div>
<div>
<xmp>
Model
<?php
class Model_Post extends orm\Model{
	protected static $_properties = array(
		'id',
		'title',
		'category',
		'body',
		'tags',
		'create_date'
	);
}


<h1>index.php</h1>
<?php foreach($posts as $post) : ?>
<div class="blog-post">
   <h2 class="blog-post-title"><?php echo $post->title; ?></h2>
   <p class="blog-post-meta"><?php echo $post->create_date; ?></p>
   


   <?php echo Str::truncate($post->body, 200); ?><br/>
   <a class="btn btn-default" href="/posts/view/<?php echo $post->id; ?>">View more</a>
</div><!-- /.blog-post -->
<?php endforeach; ?>     


edit.php

<?php echo Form::open('posts/edit/<?php echo $post->id; ?>'); ?>
<div class="form-group">
	<?php echo Form::label('Title', 'title'); ?>
	<?php echo Form::input('title', Input::post('title', isset($post) ? $post->title : ''), array('class' => 'form-control')); ?>
</div>

<div class="form-group">
	<?php echo Form::label('Category', 'category'); ?>
	<?php echo Form::select('category', $post->category, array(
		'0' => 'select Category',
		'Web Design' => 'Web Design',
		'Programming' => 'Programming',
		'Graphic Design' => 'Graphic Design'
	), array('class' => 'form-control')); ?>
</div>

<div class="form-group">
	<?php echo Form::label('Body', 'body'); ?>
	<?php echo Form::textarea('body', Input::post('body', isset($post) ? $post->body : ''), array('class' => 'form-control')); ?>
</div>

<div class="form-group">
	<?php echo Form::label('Tags', 'tags'); ?>
	<?php echo Form::input('tags', Input::post('tags', isset($post) ? $post->tags : ''), array('class' => 'form-control')); ?>
</div>

<input type="hidden" name="post_id" value="<?php echo $post->id; ?>">

<div class="actions">
<?php echo Form::submit('send'); ?>
	
</div>

<?php echo Form::close(); ?>




<h1>add.php</h1>

<?php echo Form::open('posts/add'); ?>
<div class="form-group">
	<?php echo Form::label('Title', 'title'); ?>
	<?php echo Form::input('title', Input::post('title', isset($post) ? $post->title : ''), array('class' => 'form-control')); ?>
</div>

<div class="form-group">
	<?php echo Form::label('Category', 'category'); ?>
	<?php echo Form::select('category', '0', array(
		'0' => 'select Category',
		'Web Design' => 'Web Design',
		'Programming' => 'Programming',
		'Graphic Design' => 'Graphic Design'
	), array('class' => 'form-control')); ?>
</div>

<div class="form-group">
	<?php echo Form::label('Body', 'body'); ?>
	<?php echo Form::textarea('body', Input::post('body', isset($post) ? $post->body : ''), array('class' => 'form-control')); ?>
</div>

<div class="form-group">
	<?php echo Form::label('Tags', 'tags'); ?>
	<?php echo Form::input('tags', Input::post('tags', isset($post) ? $post->tags : ''), array('class' => 'form-control')); ?>
</div>

<div class="actions">
<?php echo Form::submit('send'); ?>
	
</div>

<?php echo Form::close(); ?>





<h1>Comments </h1>

<?php echo Form::open('comments/index/<?php echo $comments->id; ?>'); ?>
<?php foreach($comments as $comment) : ?>
<?php $array[] = $comment->title; ?>
<?php endforeach; ?> 
<div class="form-group">
	<?php echo Form::label('Category', 'category'); ?>
	<?php echo Form::select('category', $comment->title, array(
		'0' => 'select Category',
		'title' => $array
	), array('class' => 'form-control')); ?>
</div>

<?php echo Form::submit('send'); ?>

<input type="hidden" name="comment_id" value="<?php echo $comment->id; ?>">

<div class="actions">

	
</div>

<?php echo Form::close(); ?>



   
<?php
class Controller_Comments extends Controller_Template
{
	public function action_index()
	{
		$comments = Model_Post::find('all'); 
		
		$data = array('comments' => $comments,
		);
      $this->template->title = 'Blog Comments';
      $this->template->content = View::forge('comments/index', $data, false);
	}
}




<h1>view</h1>

<?php echo Form::open('comments/index/<?php echo $comments->id; ?>'); ?>
<?php foreach($comments as $comment) : ?>
<?php $array[] = $comment->title; ?>
<?php endforeach; ?> 
<div class="form-group">
	<?php echo Form::label('Category', 'category'); ?>
	<?php echo Form::select('category', $comment->title, array(
		'0' => 'select Category',
		'title' => $array
	), array('class' => 'form-control')); ?>
</div>

<?php echo Form::submit('send'); ?>

<input type="hidden" name="comment_id" value="<?php echo $comment->id; ?>">

<div class="actions">

	
</div>

<?php echo Form::close(); ?>


</xmp>
</div>


</body>


</html>
